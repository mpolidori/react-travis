(window["webpackJsonpdep-of-ed-admin-ui"]=window["webpackJsonpdep-of-ed-admin-ui"]||[]).push([[0],{37:function(e,t){e.exports="data:image/png;base64,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"},39:function(e,t,a){e.exports=a(78)},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},57:function(e,t,a){e.exports=a.p+"static/media/info.5e143234.svg"},77:function(e,t,a){e.exports=a.p+"static/media/close.fe3f13f6.svg"},78:function(e,t,a){"use strict";a.r(t);var n=a(13),l=a(1),r=a.n(l),s=a(5),c=a(0),i=a.n(c),o=a(17),u=a.n(o),m=(a(45),a(46),a(47),a(48),a(14)),d=a(4),p=function(e){var t=e.label,l=e.children,r=e.helptext,s=e.required,c=e.id,o=e.disabled,u=e.infoText,m=Object(n.a)(e,["label","children","helptext","required","id","disabled","infoText"]),p=m.choices||[],h=m.type||"string",v="";return v=o?"disabled":"",i.a.createElement("div",null,i.a.createElement("label",{className:"usa-label"},t,t&&s&&i.a.createElement("span",null,"*"),u&&i.a.createElement("div",{className:"tooltip"},i.a.createElement("img",{className:"fa",src:a(57)}),i.a.createElement("span",{className:"tooltiptext"},i.a.createElement("span",{className:"close"},i.a.createElement("a",null,"\xd7")),i.a.createElement("h3",null,t),i.a.createElement("p",null,u)))),i.a.createElement("p",{className:"usa-helptext ".concat(v)},r),i.a.createElement(d.a,Object.assign({className:"error-msg ".concat(v)},m,{component:"div"})),{string:i.a.createElement(d.b,Object.assign({className:"usa-input ".concat(v),disabled:o},m)),select:i.a.createElement(d.b,Object.assign({},m,{className:"usa-select ".concat(v),component:"select"}),i.a.createElement("option",{value:"",disabled:!0,selected:!0},"-Select-"),p.map(function(e,t){return i.a.createElement("option",{value:e,key:t+1},e)})),radio:i.a.createElement("div",null,i.a.createElement(d.b,Object.assign({},m,{className:"usa-radio__input",component:"radio",id:c})),i.a.createElement("label",{className:"usa-radio__label",htmlFor:c},t)),date:i.a.createElement("div",null,i.a.createElement("input",Object.assign({type:"date"},m,{className:"usa-input ".concat(v),disabled:o})))}[h],l)},h=(a(37),function(e){switch(console.log("Notification",e),e.type){case"notice":case"warn":return i.a.createElement("p",{className:"bg-yellow-300 p-4 m-4"},e.msg);case"success":return i.a.createElement("p",{className:"bg-green-300 p-4 m-4"},e.msg);case"fail":return i.a.createElement("p",{className:"bg-red-300 p-4 m-4"},e.msg);default:return i.a.createElement("p",{className:"bg-yellow-300 p-4 m-4"},e.msg)}}),v=a(16),E=a.n(v),b=a(15),g=a.n(b),f=["category","programCode","organization","dataLevel","spatial","frequency","contactName","contactEmail","references","summary_dataset","master","homePage"],y={headers:{Authorization:"9c576d2d-51bd-464f-845c-594578719964"}},N=function(e){return e.split(" ").join("_").replace(/\W/g,"").toLowerCase()},w=function(e){return e?f.map(function(t){return{key:t,value:e[t]||""}}):[{}]},S=function(e){try{var t=JSON.parse(JSON.stringify(e.data.result));return t.extras=(a=t.extras,f.reduce(function(e,t){var n=a.find(function(e){return e.key===t}),l=n&&n.value||"";return e[t]=l,e},{})),e.data.result=t,e}catch(n){return console.warn(n),e}var a},O=function(e,t){var a=Math.random().toString(36).slice(2),n=N(e.title),l={name:"".concat(n,"_dataset_").concat(a),contact_name:e.extras.contactName,contact_email:e.extras.contactEmail,level_of_data:e.extras.dataLevel,notes:e.description,title:"Documentation for ".concat(e.title),private:!1,approval_state:""},r=t+"package_create";return console.log("create",e,l),g.a.post(r,l,y)},C={getCollection:function(){var e=Object(s.a)(r.a.mark(function e(t,a){var n,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a+"group_show?id=".concat(t.name,"&include_datasets=true"),e.next=4,g.a.get(n,y);case 4:return l=e.sent,e.abrupt("return",S(l));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject("Error getting collection",e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),createCollection:function(){var e=Object(s.a)(r.a.mark(function e(t,a){var n,l,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.extras.master){e.next=7;break}n="".concat(a,"group_create?type=master_collection"),t.extras.group_type="master_collection",t.type="master_collection",e.next=14;break;case 7:return n="".concat(a,"group_create?type=collection"),t.extras.group_type="collection",e.next=11,O(t,a);case 11:l=e.sent,t.extras.summary_dataset=l.data.result.id,t.type="collection";case 14:return t.name=N(t.title),t.extras=w(t.extras),e.next=18,g.a.post(n,t,y);case 18:return s=e.sent,e.abrupt("return",S(s));case 22:return e.prev=22,e.t0=e.catch(0),e.abrupt("return",Promise.reject("Error creating collection",e.t0));case 25:case"end":return e.stop()}},e,null,[[0,22]])}));return function(t,a){return e.apply(this,arguments)}}(),updateCollection:function(){var e=Object(s.a)(r.a.mark(function e(t,a){var n,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a+"group_update",t.extras=w(t.extras),e.next=5,g.a.post(n,t,y);case 5:return l=e.sent,e.abrupt("return",S(l));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject("Error updating collection",e.t0));case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),deleteCollection:function(){var e=Object(s.a)(r.a.mark(function e(t,a){var n,l,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a+"group_delete",l={id:t.id},e.next=5,g.a.post(n,l,y);case 5:return s=e.sent,e.abrupt("return",S(s));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject("Error deleting collection",e.t0));case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),fetchCollectionsAutocompleteOpts:function(){var e=Object(s.a)(r.a.mark(function e(t,a){var n,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a+"group_autocomplete?q=".concat(t,"&type=collection"),e.next=4,g.a.get(n,y);case 4:return l=e.sent,console.log(l),e.abrupt("return",l.data.result.map(function(e){return e.name}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject("Error fetching results",e.t0));case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,a){return e.apply(this,arguments)}}(),fetchDatasetsAutocompleteOpts:function(){var e=Object(s.a)(r.a.mark(function e(t,a){var n,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a+"package_search?q=".concat(t),e.next=4,g.a.get(n,y);case 4:return l=e.sent,e.abrupt("return",l.data.result.results.map(function(e){return e.name}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject("Error fetching results",e.t0));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}()},x=a(38),_=a.n(x),A=a(3),j=a.n(A),R=[],k=function(){0==R.length?(j()("#tags-error").addClass("error-msg"),j()("#tags-error").removeClass("hidden")):(j()("#tags-error").removeClass("error-msg"),j()("#tags-error").addClass("hidden")),console.log(R)},I=function(e){var t=e.values,n=e.getOptions,l=(e.apiUrl,e.name),r=e.titleField,s=Object(c.useState)(),o=Object(m.a)(s,2),u=o[0],p=o[1],h=Object(c.useState)(""),v=Object(m.a)(h,2),E=v[0],b=v[1];return i.a.createElement(d.c,{name:l,render:function(e){return i.a.createElement("div",{className:"mt-gutter m-4"},i.a.createElement("div",{id:"tags-error",className:"error-msg hidden",type:"string",placeholder:"",value:""},"Tags are required"),i.a.createElement(_.a,{className:"usa-input",id:"collections-autocomplete",Component:"input",trigger:"",spacer:"",matchAny:!0,onRequestOptions:function(e){return n(e,t,p)},options:u,value:E,onBlur:k,onChange:b,onKeyPress:function(t){"Enter"==t.key&&(!function(e,t){if(e){var a={name:e,id:e};t(a),R.push(a)}}(document.getElementById("collections-autocomplete").value,e.push),p([]),b(""),k(),t.preventDefault())},placeholder:"Start typing to search..."}),i.a.createElement("div",{className:"tags_container"},t[l]&&t[l].map(function(n,s){return i.a.createElement("div",{key:s,className:"custom_tag"},i.a.createElement(d.b,{name:"".concat(l).concat(s),value:t[l][s][r],className:"bg-gray-100"}),i.a.createElement("button",{className:"text-red-600 font-extrabold",type:"button",onClick:function(){e.remove(s),R.pop(s)}},i.a.createElement("img",{className:"close",src:a(77)})))})))}})};a(33);p.propTypes={name:E.a.string};var D=a(7),q=a(8),T=a(10),P=a(9),B=a(11),M=function(e){var t=e.label,a=e.selected,n=e.styleClass,l=e.id;e.onChange;return i.a.createElement("div",{className:"form-group ".concat(n)},i.a.createElement("input",{type:"checkbox",className:"usa-checkbox__input",value:a,defaultChecked:a,onChange:function(e){e.target.checked},id:l}),i.a.createElement("label",{className:"usa-checkbox__label",for:l},t))};M.defaultProps={styleClass:""};var F=function(e){var t=e.label,a=e.selected,n=e.value,l=e.styleClass,r=e.id,s=e.name,c=e.handleRadio;return i.a.createElement("div",{className:"form-group ".concat(l)},i.a.createElement("input",{type:"radio",className:"usa-radio__input",value:n,defaultChecked:a,onChange:c,name:s,id:r}),i.a.createElement("label",{className:"usa-radio__label",htmlFor:r},t))};F.defaultProps={styleClass:""};var J=F,Q=function(e){function t(e){var a;return Object(D.a)(this,t),(a=Object(T.a)(this,Object(P.a)(t).call(this,e))).handleLicense=function(e){a.setState({license:e.target.value}),"Others"==e.target.value?a.setState({license_others:"true"}):a.setState({license_others:"false"})},a.handleRightsRadio=function(e){a.setState({rights:e.target.value})},a.handleSpatialRadio=function(e){a.setState({spatial:e.target.value})},a.handleTemporalRadio=function(e){a.setState({temporal:e.target.value})},a.editText=!1,a.editURL=function(){a.editText=!0,j()(".dataset_url_input").removeClass("hidden"),j()(".dataset_url_edit").addClass("hidden"),j()(".dataset_absolute_url").addClass("hidden")},a.state={rights:"true",spatial:"false",temporal:"false",license:"",license_others:"false"},a}return Object(B.a)(t,e),Object(q.a)(t,[{key:"urlify",value:function(e){return e=e.replace(/\s+/g,"-").toLowerCase()}},{key:"render",value:function(){var e=this;return 1!=this.props.currentStep?null:i.a.createElement("div",{className:"usa-form-custom"},i.a.createElement("section",{id:"section-basic-mega-menu",className:"site-component-section"},i.a.createElement("h1",{className:"usite-page-title",id:"basic-mega-menu"},"Required Metadata"),i.a.createElement("p",{className:"site-text-intro"},"This form follows the ",i.a.createElement("a",{href:"#"},"DCAT-US Schema."))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Title",name:"title",type:"string",placeholder:"",helptext:"Use everyday language to make the dataset easy to find and understand.",value:this.props.values.title,required:"true"}),i.a.createElement("br",null),i.a.createElement("p",{className:"dataset_url"},"URL: vanilla28.ckan.io/dataset/",i.a.createElement("span",{className:"dataset_absolute_url"},this.urlify(this.props.values.title))),i.a.createElement("input",{type:"text",className:"dataset_url_input hidden"}),i.a.createElement("button",{type:"button",className:"usa-button dataset_url_edit",onClick:function(){return e.editURL()}},"Edit"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Description",name:"description",type:"string",component:"textarea",rows:"6",helptext:"Write a description (like an abstract) with enough detail to help a user quickly decide if the asset is of interest.  You can use Markdown Formatting here. ",value:this.props.values.description,required:!0}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("label",{className:"usa-label"},"Tags*"),i.a.createElement(I,{values:this.props.values,apiUrl:this.props.apiUrl,name:"tags",titleField:"name",required:!0,getOptions:this.props.fetchDatasetsOpts}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Publisher",name:"publisher",type:"select",choices:["Publisher 1 ","Publisher 2","Publisher 3","Publisher 4"],required:!0,className:"error-msg",infoText:"The publishing entity (e.g. your agency) and optionally their parent organization(s)."}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Sub Agency",name:"subagency",type:"select",choices:["Sub Agency 1 ","Sub Agency 2","Sub Agency 3","Sub-Agency 4"],className:"error-msg"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Contact Name",name:"contactName",type:"string",required:!0,infoText:"Lorem ipsum set dolor immit as this i a dummy text for tooltip"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Contact Email",name:"contactEmail",type:"string",required:!0}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Unique ID",name:"uniqueID",type:"string",required:!0,infoText:"Lorem ipsum set dolor immit as this i a dummy text for tooltip"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Public Access level",name:"accessLevel",type:"select",choices:["Private","Public"],className:"error-msg",required:!0}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Meets Agency Data Quality",name:"dataQuality",type:"select",choices:["Yes","No"],className:"error-msg",required:!0}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"License",name:"license",type:"select",choices:["MIT","Open Source License","Others"],className:"error-msg",value:this.license,onChange:this.handleLicense,required:!0}),i.a.createElement(p,{name:"license_others",type:"string",helptext:"If you selected \u201cOther\u201d, please specify the name of your License*",disabled:"true"!=this.state.license_others,required:!0}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("label",{className:"usa-label"},"Rights*")," ",i.a.createElement("br",null),i.a.createElement(J,{label:"My dataset is public",name:"rights",value:"true",selected:!0,handleRadio:this.handleRightsRadio,id:"rights_option_1"}),i.a.createElement(J,{label:"My dataset is not public",name:"rights",value:"false",selected:!1,handleRadio:this.handleRightsRadio,id:"rights_option_2"}),i.a.createElement(p,{name:"rights_desc",type:"string",value:this.props.values.rights_desc,helptext:"If your dataset is not public, please add an explanation of rights and feel free to include any instructions on restrictions, or how to access a restricted file*",disabled:"true"==this.state.rights||"",required:"true"!=this.state.rights||""}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("label",{className:"usa-label"},"Relevant Location*")," ",i.a.createElement("br",null),i.a.createElement(J,{label:"My dataset does not have a spatial component",name:"spatial",value:"false",selected:!0,handleRadio:this.handleSpatialRadio,id:"spatial_option_1"}),i.a.createElement(J,{label:"My dataset does have a spatial component",name:"spatial",value:"true",selected:!1,handleRadio:this.handleSpatialRadio,id:"spatial_option_2"}),i.a.createElement(p,{name:"spatial_location",type:"string",value:this.props.values.spatial_location,helptext:"If your dataset has a spatial component, please provide location such as place name or latitude/longitude pairs*",disabled:"true"!=this.state.spatial||"",required:"true"!=this.state.spatial||""}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("label",{className:"usa-label"},"Temporal*")," ",i.a.createElement("br",null),i.a.createElement(J,{label:"My dataset does not have a start and end date for the applicability of data",name:"temporal",value:"false",selected:!0,handleRadio:this.handleTemporalRadio,id:"temporal_option_1"}),i.a.createElement(J,{label:"My dataset does have a start and end date for the applicability of data",name:"temporal",value:"true",selected:!1,handleRadio:this.handleTemporalRadio,id:"temporal_option_2"}),i.a.createElement(p,{name:"temporal_start_date",type:"date",helptext:"If your dataset has a temporal component, please provide start date for applicability of data above",disabled:"true"!=this.state.temporal||"",required:"true"!=this.state.temporal||""}),i.a.createElement(p,{name:"temporal_end_desc",type:"date",helptext:"If your dataset has a temporal component, please provide end date for applicability of data above",disabled:"true"!=this.state.temporal||"",required:"true"!=this.state.temporal||""}))),i.a.createElement("div",{class:"row"},i.a.createElement("div",{class:"col-sm-12 text-right"},i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("button",{className:"usa-button usa-button--outline"},"Save as draft"),i.a.createElement("button",{className:"usa-button",type:"submit"},"Save and Continue"))))}}]),t}(c.Component),L=function(e){function t(){return Object(D.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"app_navigation",id:"app_navigation"},i.a.createElement("div",{className:"navsec ".concat(1==this.props.currentStep?"active":""),onClick:function(){return e.props.handleSteps(1)}},i.a.createElement("label",null,"Required Metadata")),i.a.createElement("div",{className:"navsec ".concat(2==this.props.currentStep?"active":""),onClick:function(){e.props.formCount>=1?e.props.handleSteps(2):console.log("")}},i.a.createElement("label",null,"Additional Metadata")),i.a.createElement("div",{className:"navsec ".concat(3==this.props.currentStep?"active":""),onClick:function(){e.props.formCount>=2?e.props.handleSteps(3):console.log("")}},i.a.createElement("label",null,"Resource Upload")))}}]),t}(c.Component),U=function(e){function t(){return Object(D.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return 2!=this.props.currentStep?null:i.a.createElement("div",{className:"usa-form-custom"},i.a.createElement("section",{id:"section-basic-mega-menu",className:"site-component-section"},i.a.createElement("h1",{className:"usite-page-title",id:"basic-mega-menu"},"Additional Metadata"),i.a.createElement("p",{className:"site-text-intro"},"Please note that the additional metadata that you upload will help public users better find and use this dataset.  Not all of these criteria will apply to each dataset, so feel free to only answer what applies.")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Themes",name:"themes",type:"string",placeholder:"",infoText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed porta justo eu ante placerat aliquam. ",helptext:"[Some copy describing themes, distinguishing them from tags] Start typing to add themes.",value:this.props.values.themes}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Data Dictionary URL",name:"themes",type:"string",placeholder:"",helptext:"",infoText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed porta justo eu ante placerat aliquam. ",value:this.props.values.data_dict_url}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Data Dictionary Type",name:"data_dictionary_type",type:"select",choices:["Data 1 ","Data 2","Data 3","Data 4"],className:""}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Data Publishing Frequency",name:"data_publishing_frequency",type:"select",choices:["Freq 1 ","Freq 2","Freq 3","Freq 4"],className:""}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Dataset Landing Page URL",name:"landing_url",type:"string",placeholder:"",helptext:"",value:this.props.values.landingUrl}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Language - Language Subtag",name:"data_language_subtag",type:"select",choices:["Language 1 ","Language 2","Language 3"],className:""}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Language - Regional Subtag",name:"data_regional_subtag",type:"select",choices:["Regional 1 ","Regional 2","Regional 3"],className:""}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Dataset\u2019s IT Unique Investment Identifier",name:"dataset_id",type:"string",placeholder:"",helptext:"",value:this.props.values.dataset_id}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Related Documents",name:"related_documents",type:"string",placeholder:"",helptext:"",value:this.props.values.related_docs}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Release Date",name:"release_date",type:"string",placeholder:"",helptext:"",value:this.props.values.release_date}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"System of Records",name:"system_of_records",type:"string",placeholder:"",helptext:"",value:this.props.values.system_of_records}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Select Parent Dataset",name:"select_parent_dataset",type:"select",choices:["Regional 1 ","Regional 2","Regional 3"],className:""}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"",name:"name_1",type:"string",placeholder:"",helptext:"If you selected \u201cOther\u201d, please specify the name of your License*",value:this.props.values.name1,disabled:!0}))))}}]),t}(c.Component),V=function(e){function t(){return Object(D.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return 3!=this.props.currentStep?null:i.a.createElement("div",{className:"usa-form-custom"},i.a.createElement("section",{id:"section-basic-mega-menu",className:"site-component-section"},i.a.createElement("h1",{className:"usite-page-title",id:"basic-mega-menu"},"Resource Upload"),i.a.createElement("p",{className:"site-text-intro"},"Introductory text if needed. Maecenas faucibus mollis interdum. Etiam porta sem malesuada magna mollis euismod. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit.")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Name",name:"name",type:"string",placeholder:"",helptext:"",value:this.props.values.name}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("label",{className:"usa-label"},"Data"),i.a.createElement("br",null),i.a.createElement("input",{type:"file",hidden:!0,ref:this.inputReference,onChange:this.fileUploadInputChange}),i.a.createElement("button",{className:"usa-button",onClick:this.fileUploadAction},"Upload"),i.a.createElement("input",{type:"file",hidden:!0,ref:this.inputReference,onChange:this.fileUploadInputChange}),i.a.createElement("button",{className:"usa-button",onClick:this.fileUploadAction},"Link"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Description",name:"resource_description",type:"string",component:"textarea",rows:"6",helptext:"You can use Markdown Formatting here.",value:this.props.values.resource_description}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement(p,{label:"Media Type",name:"media_type",type:"select",choices:["Type 1 ","Type 2","Type 3","Type 4"],required:!0,className:""}))))}}]),t}(c.Component),H=function(e){function t(){return Object(D.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(q.a)(t,[{key:"render",value:function(e){var t=this;return 1==this.props.currentStep?null:2==this.props.currentStep?i.a.createElement("button",{className:"usa-button",onClick:function(){return t.props.handleSteps(1)}},"Back"):3==this.props.currentStep?i.a.createElement("button",{className:"usa-button",onClick:function(){return t.props.handleSteps(2)}},"Back"):void 0}}]),t}(c.Component),W=function(e){function t(){return Object(D.a)(this,t),Object(T.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(q.a)(t,[{key:"render",value:function(e){var t=this;return 2==this.props.currentStep?i.a.createElement("div",null,i.a.createElement("button",{className:"usa-button usa-button--outline"},"Save as draft"),i.a.createElement("button",{className:"usa-button",type:"submit",onClick:function(){return t.props.handleSteps(3)}},"Save and Continue")):3==this.props.currentStep?i.a.createElement("div",null,i.a.createElement("button",{className:"usa-button usa-button--outline"},"Save as draft"),i.a.createElement("button",{className:"usa-button",type:"submit"},"Finish")):null}}]),t}(c.Component);p.propTypes={name:E.a.string};var X=function(e){var t=e.collection,a=(e.updateUser,e.cancel,e.debug,e.apiUrl),l=(Object(n.a)(e,["collection","updateUser","cancel","debug","apiUrl"]),Object(c.useState)("1")),o=Object(m.a)(l,2),u=o[0],p=o[1],v=Object(c.useState)("0"),E=Object(m.a)(v,2),b=E[0],g=E[1],f=function(e){p(e),j()(window).scrollTop(0)},y=function(){var e=Object(s.a)(r.a.mark(function e(t,n,l){var s,c,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=[],s=n.packages?n.packages.map(function(e){return e.name}):[],e.next=4,C.fetchDatasetsAutocompleteOpts(t,a);case 4:c=e.sent,i=c.filter(function(e){return!s.includes(e)}),console.log("dataset opts",n,s,c,i),l(i);case 8:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),N={title:"",description:"",publisher:"",subagency:"",accessLevel:"",dataQuality:"",license:"",license_others:"",rights_desc:"",spatial_location:"",temporal_start_date:"",temporal_end_desc:"",contactName:"",contactEmail:"",uniqueID:"",rights:""},w=function(e){var t={};return(!e.title||e.title.length<3)&&(t.title="Title is required"),e.contactName||(t.contactName="Contact Name is required"),e.uniqueID||(t.uniqueID="Unique ID is required"),e.contactEmail||(t.contactEmail="Contact Email is required"),e.description||(t.description="Description field is required"),e.contactEmail&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.contactEmail)&&(t.contactEmail="Please enter a valid email address"),e.publisher||(t.publisher="Please select a publisher"),e.subagency||(t.subagency="Please select a subagency"),e.accessLevel||(t.accessLevel="Please select Public Access Level"),e.dataQuality||(t.dataQuality="Please select data quality"),e.rights_desc||(t.rights_desc="Field cannot be empty"),e.spatial_location||(t.spatial_location="Field cannot be empty"),e.license_others||(t.license_others="Field cannot be empty"),JSON.stringify(t)===JSON.stringify({extras:{}})?{}:t};return i.a.createElement("div",{class:"container"},i.a.createElement(L,{handleSteps:f,currentStep:u,formCount:b}),i.a.createElement(d.e,{initialValues:Object.assign({},N,t),onSubmit:function(e,t){console.log("SUBMIT",e),f(2),g(1)},validate:w,render:function(e){var t=e.values,a=(e.errors,e.actions,e.touched,e.status),n=(e.resetForm,e.handleSubmit),l=(e.setValues,e.setStatus,e.isSubmitting,e.isValid);e.dirty;return i.a.createElement("div",{className:""},i.a.createElement(d.d,{onSubmit:n},a&&i.a.createElement(h,a),i.a.createElement(Q,{values:t,currentStep:u,fetchDatasetsOpts:y,isValid:l})))}}),i.a.createElement(d.e,{initialValues:Object.assign({},N,t),onSubmit:function(e,t){console.log("SUBMIT",e),f(2)},validate:w,render:function(e){var t=e.values,a=(e.errors,e.actions,e.touched,e.status),n=(e.resetForm,e.handleSubmit);e.setValues,e.setStatus,e.isSubmitting,e.isValid,e.dirty;return i.a.createElement("div",{className:""},i.a.createElement(d.d,{onSubmit:n},a&&i.a.createElement(h,a),i.a.createElement(U,{values:t,currentStep:u}),i.a.createElement(V,{values:t,currentStep:u}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("br",null),i.a.createElement("br",null)),i.a.createElement("div",{className:"col-sm-4"},i.a.createElement(H,{currentStep:u,handleSteps:f})),i.a.createElement("div",{className:"col-sm-8 text-right"},i.a.createElement(W,{currentStep:u,handleSteps:f})))))}}))},Z=function(e){return console.log("col",e.collection),i.a.createElement("div",{className:"App"},i.a.createElement(X,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));console.log("v0.4.6");var Y=document.getElementById("dep-of-ed-admin-ui"),G={};j()(document).ready(function(){j()(".tooltip .fa").click(function(){j()(".tooltip").removeClass("show"),j()(this).parent(".tooltip").addClass("show")}),j()(".tooltip .tooltiptext .close").click(function(){j()(this).parent().parent().removeClass("show")})});try{var K=JSON.parse(Y.getAttribute("data-config"));K&&(G=K)}catch(te){console.log("Failed parsing Admin opts",te)}if(console.log(G),G.collectionId)C.getCollection({name:G.collectionId},G.apiUrl).then(function(){var e=Object(s.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data.result,u.a.render(i.a.createElement(Z,Object.assign({collection:a},G)),document.getElementById("dep-of-ed-admin-ui"));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(console.log);else{var z=G,$=z.isMaster,ee=Object(n.a)(z,["isMaster"]);u.a.render(i.a.createElement(Z,Object.assign({collection:{extras:{master:$}}},ee)),document.getElementById("dep-of-ed-admin-ui"))}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.b0613878.chunk.js.map